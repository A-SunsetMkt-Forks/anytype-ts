@import "~scss/_vars";

.blocks {
	.block.blockChat { 
		.wrap.isDraggingOver { opacity: 0.5; cursor: copy; }

		.scrollWrapper { padding: 16px 16px 16px 0px; display: flex; flex-direction: column; }
		.scrollWrapper {
			.scroll { display: flex; flex-direction: column; justify-content: flex-end; min-height: 100%; gap: 16px 0px; }
		}

		.emptyState { display: flex; flex-direction: row; align-items: center; justify-content: center; flex-grow: 1; }

		.message { display: flex; flex-direction: row; gap: 0px 8px; align-items: flex-end; @include text-common; }
		.message {
			.side.left { flex-shrink: 0; }
			.side.right { display: flex; flex-direction: column; padding: 12px 16px; border-radius: 20px; background: rgba(242, 242, 242, 0.5); }

			.author { display: flex; align-items: center; gap: 0px 8px; }
			.author {
				.name { font-weight: 500; }
				.time { @include text-small; color: var(--color-text-secondary); }
			}

			.expand { display: flex; align-items: center; gap: 0px 8px; @include text-small; font-weight: 500; color: var(--color-text-secondary); margin-top: 4px; }
			.expand::after { content: ''; display: block; width: 8px; height: 8px; background: url('~img/arrow/button/grey.svg'); }

			.sub { @include text-small; color: var(--color-text-secondary); display: none; }
			.sub {
				.item:hover { color: var(--color-text-primary); }
			}

			.files { margin: 8px 0px; display: flex; flex-wrap: wrap; flex-direction: row; gap: 4px; }

			.reactions { margin: 12px 0px 0px 0px; display: flex; flex-wrap: wrap; flex-direction: row; gap: 8px; }
			.reactions {
				.reaction { 
					display: flex; flex-direction: row; border-radius: 14px; gap: 0px 4px; align-items: center; @include text-small; font-weight: 500; 
					background-color: var(--color-shape-highlight-medium); padding: 4px 6px; flex-shrink: 0;
				}

				.icon.add { 
					width: 28px; height: 28px; background-size: 20px; background-image: url('~img/icon/block/chat/reaction.svg');
					background-color: var(--color-shape-highlight-medium); flex-shrink: 0; border-radius: 50%; background-position: center 3px;
				}
			}

		}
		.message.isSelf { flex-direction: row-reverse; }
		.message.isSelf {
			.side.right { background: rgba(229, 248, 214, 0.5); }
		}

		.message.canExpand {
			.text { @include clamp; -webkit-line-clamp: 10; }
		}
		.message.canExpand.expanded {
			.text { -webkit-line-clamp: unset; }
		}

		.formWrapper.isFixed { padding: 0px 0px 80px 0px; position: sticky; z-index: 1; bottom: 0px; width: 704px; background: var(--color-bg-primary); }

		.form { padding: 8px 16px 16px 16px; border: 1px solid var(--color-shape-tertiary); border-radius: 12px; }
		.form {
			.buttons { margin: 0px 0px 8px 0px; }
			.buttons {
				.icon { width: 32px; height: 32px; background-size: 20px 20px; vertical-align: top; margin: 0px; border-radius: 4px; transition: none; }
				.icon:hover { background-color: var(--color-shape-highlight-medium); }
				
				.icon.bold { background-image: url('~img/icon/menu/action/mark/bold0.svg'); }
				.icon.italic { background-image: url('~img/icon/menu/action/mark/italic0.svg'); }
				.icon.strike { background-image: url('~img/icon/menu/action/mark/strike0.svg'); }
				.icon.link { background-image: url('~img/icon/menu/action/mark/link0.svg'); }
				.icon.kbd { background-image: url('~img/icon/menu/action/mark/code0.svg'); }
				.icon.underline { background-image: url('~img/icon/menu/action/mark/underline0.svg'); }

				.icon.isActive.bold { background-image: url('~img/icon/menu/action/mark/bold1.svg'); }
				.icon.isActive.kbd { background-image: url('~img/icon/menu/action/mark/code1.svg'); }
				.icon.isActive.italic { background-image: url('~img/icon/menu/action/mark/italic1.svg'); }
				.icon.isActive.link { background-image: url('~img/icon/menu/action/mark/link1.svg'); }
				.icon.isActive.strike { background-image: url('~img/icon/menu/action/mark/strike1.svg'); }
				.icon.isActive.underline { background-image: url('~img/icon/menu/action/mark/underline1.svg'); }

				.icon.color { z-index: 1; }
				.icon.color {
					.inner { 
						width: 16px; height: 16px; position: absolute; left: 50%; top: 50%; margin: -8px 0px 0px -8px; border-radius: 100%;
						background: var(--color-text-primary); 
					}
					.inner.bgColor-default { box-shadow: 0px 0px 0px 1px var(--color-shape-secondary) inset; background: var(--color-bg-primary); }
					
					.inner.textColor-black { background: var(--color-text-primary); }
					.inner.textColor-grey { background: var(--color-control-active); }
					.inner.textColor-yellow { background: var(--color-yellow); }
					.inner.textColor-orange { background: var(--color-orange); }
					.inner.textColor-red { background: var(--color-red); }
					.inner.textColor-pink { background: var(--color-pink); }
					.inner.textColor-purple { background: var(--color-purple); }
					.inner.textColor-blue { background: var(--color-blue); }
					.inner.textColor-ice { background: var(--color-ice); }
					.inner.textColor-teal { background: var(--color-teal); }
					.inner.textColor-lime { background: var(--color-lime); }
				}
			}

			.files { @include text-small; margin: 8px 0px 0px 0px; display: flex; flex-direction: column; gap: 2px 0px; }
			.files {
				.file { display: flex; flex-direction: row; align-items: center; gap: 0px 8px; }
			}

			.editableWrap { border: 1px solid var(--color-shape-secondary); background-color: var(--color-bg-primary); padding: 8px; border-radius: 4px; }
			.editableWrap {
				.placeholder { padding: inherit; }
			}
		}

		
	}
}
