@import "~scss/_vars";

.blocks {
	.block.blockEmbed { padding: 6px 0px; }
	.block.blockEmbed { 
		.wrap { padding: 2px 0px; }
		.wrap.isEditing { padding: 8px; background-color: $colorShapeHighlightLight; border-radius: 4px; }
		.wrap.isEditing {
			.empty { padding-bottom: 18px; }
			#input { display: block; }
		}
		.wrap.withPreview {
			.preview { display: block; }
			.empty, .button.source { display: none !important; }
		}
		.wrap.isEmpty {
			#input { margin: 0px; }
		}

		.preview { display: none; position: relative; height: 240px; background-color: $colorShapeHighlightLight; border-radius: 4px; }
		.preview {
			.icon { width: 60px; height: 60px; background-size: 60px 60px; position: absolute; left: 50%; top: 50%; margin: -30px 0px 0px -30px; }
			.icon.embedLatex { background-image: url('~img/icon/block/embed/latex.svg'); }
			.icon.embedMermaid { background-image: url('~img/icon/block/embed/mermaid.svg'); }
			.icon.embedYoutube { background-image: url('~img/icon/block/embed/youtube.svg'); }
			.icon.embedVimeo { background-image: url('~img/icon/block/embed/vimeo.svg'); }
			.icon.embedGoogleMaps { background-image: url('~img/icon/block/embed/googleMaps.svg'); }
			.icon.embedSoundcloud { background-image: url('~img/icon/block/embed/soundcloud.svg'); }
			.icon.embedChart { background-image: url('~img/icon/block/embed/chart.svg'); }
			.icon.embedMiro { background-image: url('~img/icon/block/embed/miro.svg'); }
			.icon.embedFigma { background-image: url('~img/icon/block/embed/figma.svg'); }
		}
		
		#value { font-size: 20px; line-height: 20px; width: 100%; }
		#value:empty { display: none; }
		#input { 
			background: $colorBgPrimary; border: 1px solid $colorShapeSecondary; text-align: left; font-family: 'Inter'; padding: 6px 12px; 
			@include text-common; -webkit-user-modify: read-write-plaintext-only; display: none; border-radius: 4px; 
			margin-top: 8px; border-radius: 8px;
		}

		.button.source { 
			position: absolute; top: 10px; right: 10px; width: 28px; height: 28px; display: none; 
			background: rgba(37, 37, 37, 0.35) url('~img/icon/block/edit.svg') 50% 50% no-repeat; 
		}

		iframe { width: 100%; height: 400px; border: 0px; }
	}

	.block.blockEmbed:hover {
		.button.source { display: inline-flex; } 
	}

	.block.blockEmbed.isLatex {
		.wrap.isEditing {
			.select { display: inline-block; }
		}

		.selectWrap { text-align: left; }
		.selectWrap {
			.select { 
				border: 0px; color: $colorTextSecondary; @include text-common; border-radius: 0px; padding: 0px 20px 0px 0px; 
				display: none; margin-bottom: 8px;
			}
			.select {
				.name { overflow: visible; }
				.icon.arrow.light { background-image: url('~img/arrow/select/secondary.svg') !important; }
			}
			.select:hover, .select.active { background: none; }
		}

		.katex-display { margin: 0px; text-align: inherit; }
		.katex { line-height: 1.5em; text-align: inherit; }
		.katex > .katex-html { white-space: normal; }
		.katex .base { margin-top: 2px; margin-bottom: 2px; }
	}
}
